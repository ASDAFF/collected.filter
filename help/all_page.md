# Я хочу, чтобы фильтр работал на всех страницах сайта

Если вы хотите, чтобы фильтр работал на всех страницах сайта, а не только в каталоге, тогда компонент фильтра следует размещать в шаблоне сайта и использовать Режим самостоятельного определения текущего раздела.

Для этого открываем файл шаблона header.php. Помним, что фильтр должен вызываться до компонента bitrix:catalog.section, поэтому размещать его следует в header.php, в footer.php он работать не будет.

Я для примера размещу горизонтальный шаблон фильтра сразу после заголовка. Строка файла 187, после кода:

```php
<?if ($curPage != SITE_DIR."index.php"):?>
<h1><?=$APPLICATION->ShowTitle(false);?></h1>
<?endif?>
```

Помещаю код:

```php
<?$APPLICATION->IncludeComponent(
	"collected:filter",
	"bitronic-vertical",
	Array(
		"IBLOCK_TYPE" => "catalog",
		"IBLOCK_ID" => "2",
		"FILTER_NAME" => "arrFilter",
		"HIDE_NOT_AVAILABLE" => "N",
		"CACHE_TYPE" => "A",
		"CACHE_TIME" => "36000000",
		"CACHE_GROUPS" => "Y",
		"SAVE_IN_SESSION" => "N",
		"INCLUDE_JQUERY" => "Y",
		"MESSAGE_ALIGN" => "LEFT",
		"MESSAGE_TIME" => "5",
		"CLOSED_PROPERTY_CODE" => array("", ""),
		"CLOSED_OFFERS_PROPERTY_CODE" => array("", ""),
		"SORT" => "N",
		"FIELDS" => array(),
		"PRICE_CODE" => array("BASE"),
		"CONVERT_CURRENCY" => "N",
		"XML_EXPORT" => "N",
		"THEME" => "ice",
		"SECTION_TITLE" => "-",
		"SECTION_DESCRIPTION" => "-",
		"STORES_ID" => array(),
		"IS_SEF" => "Y",
		"SEF_BASE_URL" => "/catalog/",
		"SECTION_PAGE_URL" => "#SECTION_CODE#/",
		"DETAIL_PAGE_URL" => "#SECTION_CODE#/#CODE#/",
		"PAGE_URL" => ""
	)
);?>
```

Здесь выставляем любые нужные нам параметры, НО особенно выжны для нас последние 4 параметра. IS_SEF = Y – это мы включаем режим самостоятельного определения текущего раздела. Теперь компонент сам будет определять в каком разделе каталога он находится, но для этого нам так же нужно передать шаблоны url для страниц раздела каталога и детальной страницы. Параметр PAGE_URL следует оставить пустым. В итоге компонент фильтра будет отображаться на всех страницах сайта. Если мы применим фильтр вне каталога, то фильтр перебросит нас в корень каталога (/catalog/) и применит фильтр, если мы применим фильтр находясь в разделе каталога, то фильтр останется на текущей странице, если применим на детальной странице, то фильтр перебросит нас на страницу раздела.